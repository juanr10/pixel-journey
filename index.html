<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pixel Journey</title>
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
  <link rel="stylesheet" href="./css/modal-tabs.css">
</head>
<body>
  <!-- Pantalla de carga inicial -->
  <div id="appLoadingScreen" class="app-loading-screen">
    <h1 class="app-loading-title">Pixel Journey</h1>
    <p class="app-loading-subtitle">Loading your memories...</p>
    
    <div class="loading-progress" id="loadingProgress">Initializing...</div>
  </div>

  <!-- Menú Principal -->
  <div id="mainMenuScreen" class="navigation-overlay">
    <div class="main-menu">
      <h1 class="main-menu-title">Pixel Journey</h1>
      <p class="main-menu-subtitle">Write your memories, forge your path.</p>
      
      <div class="menu-options">
        <button class="menu-option disabled" id="newGameBtn">New Game</button>
        <button class="menu-option available" id="loadGameBtn">Load Game</button>
        <button class="menu-option disabled" id="exitBtn">Exit</button>
      </div>
    </div>
  </div>

  <!-- Pantalla de Carga de Partida -->
  <div id="loadGameScreen" class="navigation-overlay hidden">
    <div class="load-game-screen">
      <h1 class="load-game-title">Load Game</h1>
      
      <div class="save-slots">
        <div class="save-slot occupied" id="saveSlot1">
          <div class="save-slot-title">Juan & Paula's Adventure</div>
          <div class="save-slot-subtitle">Last saved: Today</div>
          <div class="save-slot-status">Ready to play</div>
        </div>
        
        <div class="save-slot empty">
          <div class="save-slot-title">Empty Slot</div>
          <div class="save-slot-subtitle">No save data</div>
          <div class="save-slot-status">Not available</div>
        </div>
        
        <div class="save-slot empty">
          <div class="save-slot-title">Empty Slot</div>
          <div class="save-slot-subtitle">No save data</div>
          <div class="save-slot-status">Not available</div>
        </div>
      </div>
      
      <button class="back-button" id="backToMainBtn">Back to Main Menu</button>
    </div>
  </div>

  <header>
    <h1>Pixel Journey</h1>
    <p class="subtitle">Write your memories, forge your path.</p>

    <!-- Switch de día/noche en esquina derecha superior -->
    <label class="nightSwitch" id="nightSwitchLabel" aria-label="Toggle night mode">
      <input type="checkbox" id="toggleNight" aria-label="Night mode">
      <span class="icon sun" aria-hidden="true">☀️</span>
      <span class="track" aria-hidden="true"></span>
      <span class="icon moon" aria-hidden="true">🌙</span>
    </label>

    <div class="controlBar">
      <button id="openAddModal" class="btn-8bit primary">+ Add memory</button>
    </div>
  </header>

  <div class="boardWrap">
    <canvas id="map" width="480" height="576" aria-label="Memory map - Pixel Journey"></canvas>
  </div>

  <!-- Modal Add -->
  <div id="addModal" class="modal" role="dialog" aria-modal="true">
    <div class="modalInner">
      <h2>New memory</h2>
      <div id="addMeta" class="muted"></div>

      <div class="formRow">
        <label for="addType">Category</label>
        <select id="addType">
          <option value="travel">Travel ✈️</option>
          <option value="mountain">Hiking 🏔️</option>
          <option value="game">Video game 🎮</option>
          <option value="love">Romantic ❤️</option>
          <option value="camera">Photography 📸</option>
          <option value="museo">Museum / Monument 🏛️</option>
        </select>
      </div>

      <div class="formRow">
        <label for="addTitle">Title</label>
        <input type="text" id="addTitle" placeholder="e.g. Trip to Paris" required>
      </div>

      <div class="formRow">
        <label for="addText">Description</label>
        <textarea id="addText" rows="3" placeholder="Write something special..." required></textarea>
      </div>

      <div class="modalActions">
        <div></div>
        <div>
          <button class="btn-8bit secondary" id="cancelAdd">Cancel</button>
          <button class="btn-8bit primary" id="saveAdd">Save</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Edit -->
  <div id="modal" class="modal" role="dialog" aria-modal="true">
    <div class="modalInner">
      <h2 id="memoryTitle"></h2>
      <div id="idRow" class="muted"></div>

      <div class="formRow">
        <label for="editType">Category</label>
        <select id="editType">
          <option value="travel">Travel ✈️</option>
          <option value="mountain">Hiking 🏔️</option>
          <option value="game">Video game 🎮</option>
          <option value="love">Romantic ❤️</option>
          <option value="camera">Photography 📸</option>
          <option value="museo">Museum / Monument 🏛️</option>
        </select>
      </div>

      <div class="formRow">
        <label for="editTitle">Title</label>
        <input type="text" id="editTitle" />
      </div>

      <div class="formRow">
        <label for="editText">Description</label>
        <textarea id="editText" rows="3"></textarea>
      </div>

      <div class="modalActions">
        <div><button class="btn-8bit danger" id="deleteBtn">Delete</button></div>
        <div>
          <button class="btn-8bit secondary" id="closeModal">Close</button>
          <button class="btn-8bit primary" id="saveBtn">Save</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
